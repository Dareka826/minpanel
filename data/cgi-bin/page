#!/usr/bin/env perl
use strict;
use warnings;

require '../static/common.pl';
our $br;

# $ENV{"REQUEST_METHOD"}
# $ENV{"REQUEST_URI"}

allowed_methods(["GET"]);
print_headers({
    "Content-Type" => "text/html"
});

printl(set_title("Min Panel"));

my $sidebar = div_margins(
    "sidebar-margin-horizontal", "sidebar-margin-vertical",
    "sidebar-margin-horizontal", "sidebar-margin-vertical",
    ea(
        "div", {
            "id" => "sidebar",
            "hx-get" => "/cgi-bin/sidebar",
            "hx-trigger" => "load",
        }, ""
    )
);

printl(ea(
    "div", {
        "id" => "main",
    }, ea(
        "div", {
            "id" => "header",
            "class" => "pad",
            "hx-get" => "/cgi-bin/header",
            "hx-trigger" => "load",
        }, ""
    ) . ea(
        "div", {
            "id" => "sidebar-content-container",
        }, ea(
            "div", {
                "id" => "sidebar-container",
            }, $sidebar
        ) . ea(
            "div", {
                "id" => "content",
                "class" => "pad",
            }, "cnt"
        )
    )
));
